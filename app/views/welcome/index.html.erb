<!DOCTYPE html>
<html>
<head>
  <style>
    table {
      background-color: #E6E6FA;
    }
    th {
      border: 1px solid grey;
      border-collapse: collapse;
      padding: 5px;
      color: #FF0000;
    }
    td {
      border: 1px solid grey;
      border-collapse: collapse;
      padding: 5px;
      color: #0000FF;
    }
    table tr:nth-child(odd) {
      background-color: #f1f1f1;
    }
    table tr:nth-child(even) {
      background-color: #ffffff;
    }

  </style>
  <title>UTA Housing</title>
  <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js"></script>


  <script>
    var map;

    function initialize(){
      var mapOptions = {
        center: { lat: 32.728999, lng: -97.114581},
        zoom: 15
      };
      map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);
    }
    $(document).ready(function(){
      $("button").click(function(){
        $.getJSON("https://serene-brushlands-22102.herokuapp.com/welcome/parseJSON", function(arr){

          var out = "<table><tr><th>Name</th><th>Type</th><th>latitude</th><th>longitude</th></tr>";
          var i;

          for (i = 0; i < arr.length; i++) {
            out += "<tr><td>" +
                arr[i].title +
                "</td><td>" +
                arr[i].type +
                "</td><td>" +
                arr[i].latitude +
                "</td><td>" +
                arr[i].longitude +
                "</td></tr>";
          }
          out += "</table>"


          $("button").html(out)

          $.each(arr, function (key, data) {

            var latLng = new google.maps.LatLng(data.latitude, data.longitude);

            var marker = new google.maps.Marker({
              position: latLng,
              map: map,
              title: data.title
            });

          });
        });
      });
    });



  </script>
</head>
<body onload="initialize()" bgcolor="#E6E6FA">
<h1>Click the UTA Hosuing to get all the apartments and residence halls at UTA.</h1>
<button id="button">UTA Housing</button>


<div id="map-canvas" style="float:left; width: 720px; height: 480px;"> </div>

</body>
</html>
